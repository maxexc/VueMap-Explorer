import{D as b,r as v,o as m,h as p,b as l,a as g,x as y,c as w,J as x,w as V,d as _,C,K as S,G as k,k as u,v as B,n as A,F as E,H as F,z as I,A as N}from"./main-uCqgpgoc.js";import{I as R}from"./IButton-DzF-9dUd.js";import{E as h,a as D}from"./EyeIcon-C3ct-sKs.js";import{_ as d,u as $}from"./useMutation-C1fBgqap.js";const q={class:"relative"},L={__name:"RegistrationForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(c,{emit:n}){const o=c,i=n,t=b({name:"",email:"",password:""}),a=v(!1),r=()=>{a.value=!a.value};return(f,e)=>(m(),p("form",{onSubmit:e[3]||(e[3]=C(s=>i("submit",S(t)),["prevent"]))},[l(d,{class:"mb-3 lg:mb-3 lg:text-lg",label:"Full Name",modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=s=>t.name=s),required:""},null,8,["modelValue"]),l(d,{class:"mb-3 lg:mb-3 lg:text-lg",label:"Email Address",placeholder:"email@gmail.com",type:"email",modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=s=>t.email=s),autocomplete:"email",required:""},null,8,["modelValue"]),g("div",q,[l(d,{label:"Password",class:"lg:text-lg",type:a.value?"text":"password",modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=s=>t.password=s),autocomplete:"current-password",required:""},null,8,["type","modelValue"]),g("button",{onClick:r,type:"button",class:y(["absolute bottom-[7px] lg:bottom-[9px] right-0 pr-3 flex items-center transition-opacity",a.value?"opacity-100":"opacity-50"])},[(m(),w(x(a.value?h:D)))],2)]),l(R,{class:"mt-8 lg:mt-10 w-full",variant:"gradient",type:"submit","is-loading":o.isLoading},{default:V(()=>e[4]||(e[4]=[_("Create Account")])),_:1},8,["is-loading"])],32))}},P={key:0,class:"text-red-500 mt-4 text-center font-semibold"},G={__name:"Registration",setup(c){const n=k(),{isLoading:o,error:i,mutation:t}=$({mutationFn:r=>F.register(r),onSuccess:()=>n.replace("/map")});function a(){console.log("It is a spinner!"),o.value=!0,I(),setTimeout(()=>{N(),o.value=!1,n.replace("/map")},3e3)}return(r,f)=>(m(),p(E,null,[l(L,{onSubmit:a,"is-loading":u(o)},null,8,["is-loading"]),u(i)?(m(),p("div",P,B(u(i)),1)):A("",!0)],64))}};export{G as default};
