import{D as f,r as b,o as n,h as u,b as i,a as p,x as v,c as _,J as w,w as y,d as x,C as V,K as S,G as k,k as l,v as B,n as C,H as h}from"./main-0w5rjglL.js";import{I as E}from"./IButton-rCZgL-2g.js";import{_ as g,u as I}from"./useMutation-DxRvXJ5Y.js";import{E as L,a as D}from"./EyeIcon-CiBZ8MLm.js";const N={class:"relative"},$={__name:"LoginForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:r}){const m=d,o=r,a=f({email:"",password:""}),e=b(!1),c=()=>{e.value=!e.value};return(F,t)=>(n(),u("form",{onSubmit:t[2]||(t[2]=V(s=>o("submit",S(a)),["prevent"]))},[i(g,{class:"mb-3 lg:mb-3 lg:text-lg",label:"Email Address",placeholder:"email@gmail.com",type:"email",modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=s=>a.email=s),autocomplete:"email",required:""},null,8,["modelValue"]),p("div",N,[i(g,{label:"Password",class:"lg:text-lg",type:e.value?"text":"password",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=s=>a.password=s),autocomplete:"current-password",required:""},null,8,["type","modelValue"]),p("button",{onClick:c,type:"button",class:v(["absolute bottom-[7px] lg:bottom-[9px] right-0 pr-3 flex items-center transition-opacity",e.value?"opacity-100":"opacity-50"])},[(n(),_(w(e.value?L:D)))],2)]),i(E,{class:"mt-8 lg:mt-9 w-full",variant:"gradient",type:"submit","is-loading":m.isLoading},{default:y(()=>t[3]||(t[3]=[x("Sign In")])),_:1},8,["is-loading"])],32))}},P={class:"relative"},q={key:0,class:"text-red-500 mt-4 text-center font-semibold"},A={__name:"LoginView",setup(d){const r=k(),{isLoading:m,error:o,mutation:a}=I({mutationFn:e=>h.login(e),onSuccess:()=>r.replace("/map")});return(e,c)=>(n(),u("div",P,[i($,{onSubmit:l(a),"is-loading":l(m)},null,8,["onSubmit","is-loading"]),l(o)?(n(),u("div",q,B(l(o)),1)):C("",!0)]))}};export{A as default};
